<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="hr_applicant_view_form_inherit" model="ir.ui.view">
        <field name="name">hr_recruitment.hr_applicant_view_form.inherit</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
        <field name="arch" type="xml">
            <field name="department_id" position="replace">

            </field>
            <xpath expr="//field[@name='job_id']" position="attributes">
                <attribute name="string">Job Title</attribute>
            </xpath>
            <label for="name" position="replace">

            </label>
            <xpath expr="//header/button[@name='archive_applicant']" position="replace">
                <button string="Rejected" name="archive_applicant" type="object"
                        attrs="{'invisible': [('active', '=', False)]}" data-hotkey="x" invisible="1"/>
            </xpath>
            <xpath expr="//div[@name='button_box']/button[@name='action_makeMeeting']" position="replace">
                <button name="action_makeMeeting" class="oe_stat_button" icon="fa-calendar" type="object" invisible="1">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value">
                            <field name="meeting_display_text"/>
                        </span>
                        <span class="o_stat_text">
                            <field name="meeting_display_date" readonly="1"/>
                        </span>
                    </div>
                </button>
                <button name="action_activities" class="oe_stat_button" icon="fa-calendar" type="object">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value">Activities</span>
                        <!--                             <span class="o_stat_text"><field name="meeting_display_date" readonly="1"/></span>-->
                    </div>
                </button>
            </xpath>
            <field name="name" position="replace">

            </field>
            <xpath expr="//div[2]/h1" position="replace">

            </xpath>
            <field name="source_id" position="after">
                <field name="ref_employee_id"/>
                <field name="nationality"/>
                <field name="last_update_applicant"/>
                <field name="candidate_location"/>
            </field>
            <field name="type_id" position="after">
                <!--                <field name="country_id"/>-->
                <field name="gender"/>
                <field name="experience_level"/>
                <field name="language_ids" widget="many2many_tags"/>
                <field name="linkedin"/>
                <!--                <field name="first_work_ex"/>-->
                <field name="tools"/>
                <field name="job_id" invisible="1"/>
                <field name="company_id" invisible="1"/>

                <label for="notice_period_from" string="Notice period 'Days'"/>
                <div class="o_row">
                    <span class="mx-3">From</span>

                    <field name="notice_period_from"/>
                    <span class="mx-3">To</span>

                    <field name="notice_period_to" placeholder="Currency"/>
                </div>
                <field name="stage_date" invisible="1"/>
            </field>
            <xpath expr="//group[1]/group[4]" position="replace">
                <group string="Contract">
                    <label for="current_salary"/>
                    <div class="o_row">
                        <field name="current_salary"/>
                        <field name="currency_id" placeholder="Currency"/>
                    </div>
                    <label for="ex_on"/>
                    <div class="o_row">
                        <field name="ex_on"/>
                        <field name="currency_on_id" placeholder="Currency"/>
                    </div>
                    <label for="ex_of"/>
                    <div class="o_row">
                        <field name="ex_of"/>
                        <field name="currency_of_id" placeholder="Currency"/>
                    </div>
                    <field name="availability" invisible="1"/>
                    <field name="emp_id" invisible="1"/>
                </group>
            </xpath>


            <xpath expr="//group[1]/group[2]" position="after">
                <group string="Experience">
                    <field name="start_date"/>
                    <label for="experience_y" string="Experience"/>
                    <div class="o_row">
                        <field name="experience_y"/>Years-<field name="experience_m"/>Months-<field
                            name="experience_d"/>Days
                    </div>
                </group>
            </xpath>
            <field name="user_id" position="replace">
                <field name="partner_id" domain="[('contact_type', '=','contact' ), ]"/>
            </field>


        </field>
    </record>
    <record id="hr_kanban_view_applicant_inherit" model="ir.ui.view">
        <field name="name">hr_kanban_view_applicant_inherit</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.hr_kanban_view_applicant"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@class='oe_kanban_content']" position="replace">
                <div class="oe_kanban_content">
                    <div class="o_kanban_record_top">
                        <div class="o_kanban_record_headings">

                            <i class="o_kanban_record_title">
                                <field name="partner_name"/>
                            </i>
                            <br/>
                            <div class="o_kanban_record_subtitle"
                                 invisible="context.get('search_default_job_id', False)">
                                <field name="job_id"/>
                            </div>
                            <div class="o_kanban_record_subtitle"
                            >
                                <field name="app_code"/>
                            </div>
                            <div class="o_kanban_record_subtitle"
                            >
                                <field name="stage_date"/>
                            </div>


                        </div>
                    </div>
                    <field name="categ_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
                    <div class="o_kanban_record_bottom mt4">
                        <div class="oe_kanban_bottom_left">
                            <div class="float-left mr4" groups="base.group_user">
                                <field name="priority" widget="priority"/>
                            </div>
                            <div class="o_kanban_inline_block mr8">
                                <field name="activity_ids" widget="kanban_activity"/>
                            </div>
                        </div>
                        <div class="oe_kanban_bottom_right">
                            <a name="action_get_attachment_tree_view" type="object">
                                <span title="Documents">
                                    <i class="fa fa-paperclip" role="img" aria-label="Documents"/>
                                    <t t-esc="record.attachment_number.raw_value"/>
                                </span>
                            </a>
                            <div class="o_kanban_state_with_padding ml-1 mr-2">
                                <field name="kanban_state" widget="kanban_state_selection"/>
                                <field name="legend_normal" invisible="1"/>
                                <field name="legend_blocked" invisible="1"/>
                                <field name="legend_done" invisible="1"/>
                            </div>
                            <field name="user_id" widget="many2one_avatar_user"/>
                        </div>

                    </div>
                </div>
            </xpath>

        </field>
    </record>
    <record id="hr_applicant_view_tree_inherit" model="ir.ui.view">
        <field name="name">hr_recruitment.crm_case_tree_view_job.inherit</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.crm_case_tree_view_job"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="replace">
                <tree>
                    <field name="job_id" string="Job Title"/>
                    <field name="app_code" string="Code"/>
                    <field name="partner_name" string="Name"/>
                    <field name="partner_phone" string="Phone"/>
                    <field name="email_from" string="Email"/>
                    <field name="linkedin" string="Linkedin"/>
                    <field name="experience_level"/>
                    <field name="start_date" string="Experience"/>
                    <field name="tools"/>
                    <field name="notice_period_from" optional="hide"/>
                    <field name="notice_period_to" optional="hide"/>
                    <field name="current_salary" string="Current Salary" optional="hide"/>
                    <field name="currency_id" string="CU-Currency" optional="hide"/>
                    <field name="ex_of" optional="hide"/>
                    <field name="currency_of_id" string="Off-Currency" optional="hide"/>
                    <field name="ex_on" optional="hide"/>
                    <field name="currency_on_id" string="On-Currency" optional="hide"/>
                    <field name="nationality"/>
                    <field name="candidate_location"/>
                    <field name="source_id"/>
                    <field name="ref_employee_id" string="Referred" optional="hide"/>
                    <field name="description"/>
                    <field name="__last_update"/>
                    <field name="stage_id"/>
                    <field name="priority" invisible="1"/>
                    <field name="create_date"/>
                </tree>
            </xpath>
        </field>
    </record>
    <record id="hr_applicant_survey" model="ir.ui.view">
        <field name="name">hr_applicant_view_form_inherit</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment_survey.hr_applicant_view_form_inherit"/>
        <field name="arch" type="xml">

            <xpath expr="//button[@name='action_send_survey']" position="replace">
                <button name="action_send_survey" string="SEND INTERVIEW" type="object" invisible="1"/>
            </xpath>

        </field>
    </record>

</odoo>
